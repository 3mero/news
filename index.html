<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Player with Playlist</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    body {
      background-color: #f8f9fa;
      font-family: Arial, sans-serif;
      transition: background-color 0.3s;
      font-size: 16px; /* Default font size */
    }
    .content-frame {
      border: 1px solid #ddd;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
      position: relative;
      background-color: #fff;
    }
    .video-container {
      position: relative;
      width: 100%;
      padding-top: 56.25%; /* 16:9 Aspect Ratio */
      background-color: #000;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border-radius: 10px;
    }
    .controls-bar {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .controls-bar button {
      margin: 5px;
    }
    .playlist {
      max-height: 60vh;
      overflow-y: auto;
    }
    .playlist-item {
      cursor: pointer;
      padding: 10px;
      border-bottom: 1px solid #ddd;
    }
    .playlist-item:hover {
      background-color: #f1f1f1;
    }
    .lightbulb {
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 40px;
      background-color: black;
      border-radius: 50%;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .lightbulb:after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 10px;
      height: 20px;
      background-color: black;
      border-radius: 10px;
      transition: background-color 0.3s;
    }
    .dark-mode {
      background-color: #333;
      color: #fff;
    }
    .dark-mode .lightbulb {
      background-color: white;
    }
    .dark-mode .lightbulb:after {
      background-color: white;
    }
    .dropdown-toggle::after {
      display: inline-block;
      margin-left: .255em;
      vertical-align: .255em;
      content: "";
      border-top: .3em solid;
      border-right: .3em solid transparent;
      border-bottom: 0;
      border-left: .3em solid transparent;
    }
    .dropdown-menu {
      max-height: 200px;
      overflow-y: auto;
    }
  </style>
</head>
<body>
  <div class="container mt-4">
    <div class="content-frame">
      <div class="lightbulb" onclick="toggleDarkMode()"></div>
      <div class="row">
        <div class="col-12 col-md-8">
          <div class="video-container">
            <video id="video" controls></video>
          </div>
          <div class="controls-bar mt-2">
            <button class="btn btn-danger" id="refresh-button" onclick="refreshPage()">تحديث الصفحة</button>
            <button class="btn btn-secondary" id="backward-button" onclick="rewindVideo()">إرجاع 15 ثانية</button>
            <button class="btn btn-primary" id="toggle-button" onclick="toggleVideo()">تشغيل / إيقاف</button>
            <button class="btn btn-secondary" id="forward-button" onclick="forwardVideo()">تقديم 15 ثانية</button>
            <button class="btn btn-secondary" onclick="setZoom(100)">الحجم الأصلي</button>
            <button class="btn btn-secondary" onclick="setZoom(125)">تكبير (125%)</button>
            <button class="btn btn-secondary" onclick="setZoom(75)">تصغير (75%)</button>
          </div>
        </div>
        <div class="col-12 col-md-4 mt-4 mt-md-0">
          <div class="card">
            <div class="card-header bg-primary text-white">
              قائمة التشغيل
            </div>
<div class="playlist list-group list-group-flush">
        <!-- قائمة التشغيل الحالية -->
        <div class="playlist-item">
          <a href="#" class="dropdown-toggle collapsed" data-toggle="collapse" data-target="#aljazeera-list" aria-expanded="false">قناة الجزيرة</a>
          <div id="aljazeera-list" class="collapse">
            <a href="#" class="list-group-item" onclick="playVideo('https://live-hls-web-aja-fa.getaj.net/AJA/01.m3u8')">1080 قناة الجزير جودة عالية</a>
            <a href="#" class="list-group-item" onclick="playVideo('https://live-hls-web-aja-fa.getaj.net/AJA/02.m3u8')">قناة الجزيرة جودة متوسطة 720</a>
            <a href="#" class="list-group-item" onclick="playVideo('https://live-hls-web-aja-fa.getaj.net/alternative/AJA/05.m3u8')">قناة الجزيرة جودة عادية 360</a>
            <a href="#" class="list-group-item" onclick="playVideo('https://live-hls-web-aja-fa.getaj.net/AJA/06.m3u8')">قناة الجزيرة جودة ضعيفة 240</a>
           <a href="#" class="list-group-item" onclick="playVideo('https://live-hls-audio-web-aja.getaj.net/VOICE-AJA/01.m3u8')">اذاعة قناة الجزيرة</a>
          </div>
        </div>
        <div class="playlist-item">
          <a href="#" class="dropdown-toggle collapsed" data-toggle="collapse" data-target="#mayadeen-list" aria-expanded="false">قناة الميادين</a>
          <div id="mayadeen-list" class="collapse">
            <a href="#" class="list-group-item" onclick="playVideo('https://mdnlv.cdn.octivid.com/almdn/smil:mpegts.stream.smil/chunklist_b3000000_t64NTQwcA==.m3u8')">قناة الميادين جودة 540</a>
          </div>
        </div>
        <div class="playlist-item">
          <a href="#" class="dropdown-toggle collapsed" data-toggle="collapse" data-target="#manar-list" aria-expanded="false">قناة المنار</a>
          <div id="manar-list" class="collapse">
            <a href="#" class="list-group-item" onclick="playVideo('https://e2.manar.live:9000/live/tracks-v1a1/mono.m3u8')">قناة المنار جودة 576</a>
            <a href="#" class="list-group-item" onclick="playVideo('https://e2.manar.live:9000/live/tracks-v3a1/mono.m3u8')">قناة المنار جودة 236</a>
          </div>
        </div>

          </div>
    </div>
       </div>
          </div>
        </div>
          </div>

   <script>
    var video = document.getElementById('video');
    var isPlaying = false;
    var hls = null;

    function playVideo(url) {
      if (Hls.isSupported()) {
        if (hls) {
          hls.destroy();
        }
        hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, function() {
          video.play();
          isPlaying = true;
        });
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = url;
        video.addEventListener('loadedmetadata', function() {
          video.play();
          isPlaying = true;
        });
      }
    }

    function refreshPage() {
      location.reload();
    }

    function rewindVideo() {
      video.currentTime = Math.max(0, video.currentTime - 15);
    }

    function forwardVideo() {
      video.currentTime = Math.min(video.duration, video.currentTime + 15);
    }

    function toggleVideo() {
      if (isPlaying) {
        video.pause();
      } else {
        video.play();
      }
      isPlaying = !isPlaying;
    }
    
    function setZoom(zoomPercentage) {
      document.body.style.fontSize = (zoomPercentage / 100) + "em";
    }

    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
    }

    window.addEventListener('load', function() {
      var firstLink = document.querySelector('.playlist-item a');
      if (firstLink) {
        firstLink.click();
      }
    });
  </script>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
